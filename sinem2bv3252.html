<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Psikolojik Profil Analizi Testi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #ffe4f4 0, #f9c5d5 35%, #fdf2f8 80%, #ffffff 100%);
      color: #111827;
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .page {
      width: 100%;
      max-width: 960px;
      padding: 20px 16px 32px;
    }

    .header-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #fdf2ff;
      color: #9d174d;
      border: 1px solid #fecdd3;
      margin-bottom: 8px;
    }

    .header-badge span.dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #f472b6;
    }

    h1 {
      margin: 0 0 4px;
      font-size: 24px;
      color: #881337;
    }

    .subtitle {
      font-size: 13px;
      color: #4b5563;
      margin-bottom: 12px;
    }

    .info {
      font-size: 12px;
      color: #6b7280;
      margin-bottom: 16px;
      max-width: 620px;
    }

    .legal-small {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 18px;
      max-width: 640px;
    }

    .card {
      background: #ffffff;
      border-radius: 18px;
      padding: 18px 18px 16px;
      box-shadow: 0 14px 32px rgba(0,0,0,0.08);
      border: 1px solid #f9a8d4;
    }

    .questions-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
      font-size: 12px;
      color: #6b7280;
      flex-wrap: wrap;
    }

    .questions-header .progress {
      padding: 3px 10px;
      border-radius: 999px;
      background: #fce7f3;
      border: 1px solid #f9a8d4;
      font-size: 11px;
      white-space: nowrap;
    }

    #stepText {
      font-size: 12px;
      color: #4b5563;
    }

    .question {
      padding: 10px 0 4px;
    }

    .question h3 {
      margin: 0 0 8px;
      font-size: 15px;
      color: #111827;
    }

    .options {
      margin-top: 6px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 6px;
    }

    label.option {
      display: flex;
      align-items: flex-start;
      gap: 6px;
      font-size: 13px;
      padding: 8px 9px;
      border-radius: 10px;
      background: #fdf2ff;
      border: 1px solid transparent;
      cursor: pointer;
      transition: background 0.15s, border-color 0.15s, box-shadow 0.15s;
    }

    label.option:hover {
      background: #fce7f3;
      border-color: #f9a8d4;
      box-shadow: 0 4px 10px rgba(248,113,165,0.12);
    }

    label.option input {
      margin-top: 2px;
      accent-color: #ec4899;
      flex-shrink: 0;
    }

    .btn-primary {
      margin-top: 12px;
      width: 100%;
      border: none;
      border-radius: 999px;
      padding: 11px 0;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(135deg, #ec4899, #fb7185);
      color: #ffffff;
      box-shadow: 0 10px 24px rgba(236,72,153,0.45);
      transition: transform 0.1s, box-shadow 0.1s, filter 0.1s;
    }

    .btn-primary:hover {
      filter: brightness(1.03);
      box-shadow: 0 12px 26px rgba(236,72,153,0.55);
      transform: translateY(-1px);
    }

    .btn-primary:active {
      transform: translateY(0);
      box-shadow: 0 6px 16px rgba(236,72,153,0.4);
    }

    .footer-note {
      margin-top: 10px;
      font-size: 11px;
      color: #9ca3af;
      text-align: center;
    }

    /* Modal */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15,23,42,0.55);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 30;
      padding: 14px;
    }

    .modal {
      background: #ffffff;
      border-radius: 18px;
      max-width: 700px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      padding: 18px 18px 16px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.45);
      border: 1px solid #e5e7eb;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }

    .modal-title {
      font-size: 16px;
      font-weight: 700;
      color: #0f172a;
    }

    .ai-tag {
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4338ca;
      border: 1px solid #c7d2fe;
    }

    .close-btn {
      border: none;
      background: transparent;
      font-size: 18px;
      cursor: pointer;
      color: #6b7280;
      padding: 4px;
      line-height: 1;
    }

    .modal-section-title {
      font-size: 13px;
      font-weight: 600;
      color: #111827;
      margin: 10px 0 4px;
    }

    .pill {
      font-size: 11px;
      display: inline-block;
      padding: 3px 9px;
      border-radius: 999px;
      background: #fee2e2;
      color: #7f1d1d;
      border: 1px solid #fecaca;
      margin-right: 4px;
      margin-bottom: 2px;
    }

    .analysis-text {
      font-size: 12px;
      color: #4b5563;
      line-height: 1.45;
    }

    .tip-box {
      margin-top: 8px;
      padding: 8px 9px;
      border-radius: 8px;
      background: #f5f3ff;
      border: 1px dashed #c4b5fd;
      font-size: 11px;
      color: #4b5563;
    }

    .index-list {
      font-size: 12px;
      color: #4b5563;
      margin: 0;
      padding-left: 16px;
    }

    .index-list li {
      margin-bottom: 3px;
    }

    .bars {
      margin-top: 6px;
    }

    .bar-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 4px;
      font-size: 11px;
      color: #6b7280;
    }

    .bar-label {
      width: 150px;
      flex-shrink: 0;
    }

    .bar-track {
      flex: 1;
      height: 8px;
      border-radius: 999px;
      background: #f3f4f6;
      overflow: hidden;
    }

    .bar-fill {
      height: 100%;
      border-radius: 999px;
      background: linear-gradient(90deg, #ec4899, #fb7185);
      width: 0%;
      transition: width 0.5s ease-out;
    }

    .bar-value {
      width: 38px;
      text-align: right;
      flex-shrink: 0;
    }

    .modal-legal {
      margin-top: 10px;
      font-size: 11px;
      color: #9ca3af;
      border-top: 1px solid #e5e7eb;
      padding-top: 6px;
    }

    @media (max-width: 640px) {
      .page {
        padding: 14px 10px 24px;
      }
      h1 {
        font-size: 20px;
      }
      .card {
        padding: 14px 12px 12px;
      }
      .modal {
        padding: 14px 12px 12px;
        border-radius: 14px;
      }
      .bar-label {
        width: 130px;
      }
    }
  </style>
</head>
<body>

<div class="page">
  <div class="header-badge">
    <span class="dot"></span>
    Psikolojik Profil Analizi â€” 50 Maddelik Test
  </div>
  <h1>Psikolojik Profil Analizi Testi</h1>
  <div class="subtitle">
    50 maddelik bu test, gÃ¼nlÃ¼k duygu durumun ve dÃ¼ÅŸÃ¼nce Ã¶rÃ¼ntÃ¼lerin Ã¼zerinden genel bir psikolojik profil Ã§Ä±karmayÄ± hedefler.
  </div>
  <div class="info">
    Test; anksiyete eÄŸilimi, duygu dÃ¼zenleme, stres toleransÄ±, dÃ¼ÅŸÃ¼nce ÅŸekilleri, iliÅŸki dinamikleri, impulsivite, motivasyon ve Ã¶zsaygÄ± alanlarÄ±nÄ± birlikte deÄŸerlendirir.
  </div>
  <div class="legal-small">
    <strong>Ã–nemli:</strong> Bu test bilimsel Ã¶lÃ§eklerden esinlenmiÅŸ bir <strong>farkÄ±ndalÄ±k aracÄ±dÄ±r</strong>. Herhangi bir psikiyatrik tanÄ± koymaz, tedavi Ã¶nermez. Gerekli durumlarda bir ruh saÄŸlÄ±ÄŸÄ± uzmanÄ±na baÅŸvurmak en saÄŸlÄ±klÄ± yoldur.
  </div>

  <div class="card">
    <div class="questions-header">
      <span id="stepText">Soru 1 / 50</span>
      <span class="progress" id="progressText">0 / 50 soru</span>
    </div>

    <div class="question">
      <h3 id="questionText"></h3>
      <div class="options" id="optionsContainer"></div>
    </div>

    <button class="btn-primary" id="nextButton" onclick="nextStep()">Sonraki Soru</button>

    <div class="footer-note">
      CevaplarÄ±n yalnÄ±zca bu sayfada tutulur; sayfa kapanÄ±nca silinir. <br>
      SeÃ§enekler: HiÃ§bir zaman Â· Nadiren Â· Bazen Â· SÄ±k sÄ±k Â· Her zaman
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal-backdrop" id="modalBackdrop">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-title">Yapay ZekÃ¢ Analizi â€” Psikolojik Profilin</div>
        <div class="ai-tag">EÄŸilim analizi Â· Klinik tanÄ± deÄŸildir</div>
      </div>
      <button class="close-btn" onclick="closeModal()">âœ•</button>
    </div>

    <div>
      <div class="modal-section-title">Genel Profil Ã–zeti</div>
      <div id="summaryText" class="analysis-text"></div>

      <div class="modal-section-title" style="margin-top:10px;">Ã–ne Ã‡Ä±kan Temalar</div>
      <div id="pillContainer"></div>

      <div class="modal-section-title" style="margin-top:10px;">Kategori BazlÄ± Yorumlar</div>
      <ul class="index-list" id="indexList"></ul>

      <div class="modal-section-title" style="margin-top:10px;">Kategori DaÄŸÄ±lÄ±mÄ±n</div>
      <div class="bars" id="barsContainer"></div>

      <div class="modal-section-title" style="margin-top:10px;">Ã–nerilen FarkÄ±ndalÄ±k NoktalarÄ±</div>
      <div id="tipBox" class="tip-box"></div>

      <div class="modal-legal">
        <strong>Yasal UyarÄ±:</strong> Bu Ã§Ä±ktÄ±, psikolojik sÃ¼reÃ§lerine dair <strong>yaklaÅŸÄ±k eÄŸilimleri</strong> yorumlar; tÄ±bbi ya da psikiyatrik tanÄ± yerine geÃ§mez. YoÄŸun sÄ±kÄ±ntÄ±, iÅŸlev kaybÄ± veya zarar verme dÃ¼ÅŸÃ¼nceleri varsa bir ruh saÄŸlÄ±ÄŸÄ± uzmanÄ±na baÅŸvurman Ã¶nerilir.
      </div>
    </div>
  </div>
</div>

<script>
  // Kategoriler
  var categories = {
    anksiyete:   { name: "Anksiyete EÄŸilimi",               color: "#fb7185" },
    duygu:      { name: "Duygu DÃ¼zenleme ZorluÄŸu",         color: "#ec4899" },
    stres:      { name: "Stres ToleransÄ±",                 color: "#f97316" },
    bilissel:   { name: "BiliÅŸsel Ã‡arpÄ±tmalar",            color: "#6366f1" },
    iliski:     { name: "Ä°liÅŸki Dinamikleri / BaÄŸlanma",   color: "#14b8a6" },
    impuls:     { name: "Ä°mpulsivite & Kontrol",           color: "#a855f7" },
    motivasyon: { name: "Motivasyon & TÃ¼kenmiÅŸlik",        color: "#22c55e" },
    ozsaygi:    { name: "Ã–zsaygÄ± & Kendilik AlgÄ±sÄ±",       color: "#0ea5e9" }
  };

  // Likert seÃ§enekleri
  var likertOptions = [
    { text: "HiÃ§bir zaman", value: 0 },
    { text: "Nadiren", value: 1 },
    { text: "Bazen", value: 2 },
    { text: "SÄ±k sÄ±k", value: 3 },
    { text: "Her zaman", value: 4 }
  ];

  // Sorular
  var questions = [
    // Anksiyete (6)
    { text: "GÃ¼nlÃ¼k yaÅŸamda belirgin bir neden olmasa bile huzursuz hissettiÄŸim olur.", cat: "anksiyete" },
    { text: "Gelecekle ilgili kontrol edemediÄŸim dÃ¼ÅŸÃ¼nceler zihnimi meÅŸgul eder.", cat: "anksiyete" },
    { text: "VÃ¼cudumda gerginlik, Ã§arpÄ±ntÄ± veya kasÄ±lma fark ederim.", cat: "anksiyete" },
    { text: "En kÃ¶tÃ¼ senaryolarÄ± sÄ±k sÄ±k dÃ¼ÅŸÃ¼nÃ¼rÃ¼m.", cat: "anksiyete" },
    { text: "Bir ÅŸeylerin ters gideceÄŸinden kolayca endiÅŸe ederim.", cat: "anksiyete" },
    { text: "Sosyal ya da kiÅŸisel durumlarda yoÄŸun kaygÄ± yaÅŸadÄ±ÄŸÄ±m olur.", cat: "anksiyete" },

    // Duygu dÃ¼zenleme (6)
    { text: "Hislerim yoÄŸunlaÅŸtÄ±ÄŸÄ±nda ne yapacaÄŸÄ±mÄ± bilemediÄŸim zamanlar olur.", cat: "duygu" },
    { text: "DuygularÄ±mÄ± kontrol etmekte zorlanÄ±rÄ±m.", cat: "duygu" },
    { text: "Ã–fke, Ã¼zÃ¼ntÃ¼ veya kaygÄ± gibi duygular beni hÄ±zlÄ±ca etkiler.", cat: "duygu" },
    { text: "Bir duyguyu bastÄ±rmak yerine daha da yoÄŸun yaÅŸadÄ±ÄŸÄ±m olur.", cat: "duygu" },
    { text: "DuygularÄ±m karÄ±ÅŸtÄ±ÄŸÄ±nda saÄŸlÄ±klÄ± karar veremediÄŸimi hissederim.", cat: "duygu" },
    { text: "Duygusal dalgalanmalar gÃ¼n iÃ§inde beni zorlayabilir.", cat: "duygu" },

    // Stres toleransÄ± (6)
    { text: "YoÄŸun sorumluluk altÄ±nda Ã§abuk tÃ¼kenmiÅŸ hissederim.", cat: "stres" },
    { text: "Stresli bir durumda sakinliÄŸimi korumakta zorlanÄ±rÄ±m.", cat: "stres" },
    { text: "BaskÄ± altÄ±nda performansÄ±m dÃ¼ÅŸer.", cat: "stres" },
    { text: "GÃ¼nlÃ¼k sorunlar beni beklediÄŸimden daha fazla yorar.", cat: "stres" },
    { text: "Ã‡oklu gÃ¶revlerde stres seviyem belirgin ÅŸekilde yÃ¼kselir.", cat: "stres" },
    { text: "ZorlayÄ±cÄ± durumlar karÅŸÄ±sÄ±nda Ã§abuk pes etme eÄŸilimim olur.", cat: "stres" },

    // BiliÅŸsel Ã§arpÄ±tmalar (6)
    { text: "KÃ¼Ã§Ã¼k hatalarÄ± bÃ¼yÃ¼tme eÄŸilimim olabilir.", cat: "bilissel" },
    { text: "Olumsuz geri bildirimleri kiÅŸisel algÄ±ladÄ±ÄŸÄ±m olur.", cat: "bilissel" },
    { text: "Ä°nsanlarÄ±n ne dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼ konusunda aÅŸÄ±rÄ± tahminlerde bulunurum.", cat: "bilissel" },
    { text: "\"Ya hep ya hiÃ§\" tarzÄ± dÃ¼ÅŸÃ¼ncelerim olur.", cat: "bilissel" },
    { text: "Bir olayda sadece olumsuz yÃ¶nleri gÃ¶rmek daha kolay gelir.", cat: "bilissel" },
    { text: "BaÅŸarÄ±larÄ±mÄ± kÃ¼Ã§Ã¼ltÃ¼p hatalarÄ±ma odaklanÄ±rÄ±m.", cat: "bilissel" },

    // Ä°liÅŸki dinamikleri (6)
    { text: "Birine baÄŸlandÄ±ÄŸÄ±mda reddedilme kaygÄ±sÄ± yaÅŸarÄ±m.", cat: "iliski" },
    { text: "Sevdiklerimin sevgisini kaybetmekten zaman zaman endiÅŸe ederim.", cat: "iliski" },
    { text: "YakÄ±n iliÅŸkilerde kontrolÃ¼ kaybetmek beni rahatsÄ±z eder.", cat: "iliski" },
    { text: "Duygusal yakÄ±nlÄ±ÄŸÄ± isterim ama bazen fazla yoÄŸun gelir.", cat: "iliski" },
    { text: "Bir iliÅŸkinin gidiÅŸatÄ±yla ilgili fazla analiz yaptÄ±ÄŸÄ±m olur.", cat: "iliski" },
    { text: "Partnerin ilgisi azaldÄ±ÄŸÄ±nda hemen kÃ¶tÃ¼ ihtimaller dÃ¼ÅŸÃ¼nÃ¼rÃ¼m.", cat: "iliski" },

    // Ä°mpulsivite (6)
    { text: "Ani kararlar verdiÄŸim olur.", cat: "impuls" },
    { text: "DÃ¼ÅŸÃ¼nmeden tepki gÃ¶sterdiÄŸim zamanlar olur.", cat: "impuls" },
    { text: "Sinirliyken sÃ¶ylediklerimi sonradan piÅŸmanlÄ±kla hatÄ±rlarÄ±m.", cat: "impuls" },
    { text: "DÃ¼rtÃ¼lerimi kontrol etmekte zorlandÄ±ÄŸÄ±m olur.", cat: "impuls" },
    { text: "Beklemek benim iÃ§in zor olabilir.", cat: "impuls" },
    { text: "Planlamadan hareket ettiÄŸim anlar olur.", cat: "impuls" },

    // Motivasyon / tÃ¼kenmiÅŸlik (7)
    { text: "Enerjisiz hissettiÄŸim gÃ¼nler sÄ±k olur.", cat: "motivasyon" },
    { text: "Yapmam gereken ÅŸeyleri ertelediÄŸim olur.", cat: "motivasyon" },
    { text: "UfacÄ±k bir iÅŸ bile gÃ¶zÃ¼mde bÃ¼yÃ¼yebilir.", cat: "motivasyon" },
    { text: "SabahlarÄ± gÃ¼ne baÅŸlamada zorlandÄ±ÄŸÄ±m dÃ¶nemler olur.", cat: "motivasyon" },
    { text: "Uzun sÃ¼re dikkatimi bir iÅŸe veremediÄŸim olur.", cat: "motivasyon" },
    { text: "BoÅŸluk veya amaÃ§sÄ±zlÄ±k hissi yaÅŸadÄ±ÄŸÄ±m olur.", cat: "motivasyon" },
    { text: "HÄ±zlÄ± yorulup motivasyonumu kaybettiÄŸim olur.", cat: "motivasyon" },

    // Ã–zsaygÄ± (7)
    { text: "Kendimi yeterli hissetmediÄŸim zamanlar olur.", cat: "ozsaygi" },
    { text: "BaÅŸarÄ±larÄ±mÄ± kÃ¼Ã§Ã¼mseyip deÄŸersizleÅŸtirdiÄŸim olur.", cat: "ozsaygi" },
    { text: "BaÅŸkalarÄ±nÄ±n benden daha baÅŸarÄ±lÄ± olduÄŸunu sÄ±k dÃ¼ÅŸÃ¼nÃ¼rÃ¼m.", cat: "ozsaygi" },
    { text: "Kendimi sevme ve kabul etme konusunda zorlandÄ±ÄŸÄ±m olur.", cat: "ozsaygi" },
    { text: "EleÅŸtiriler karÅŸÄ±sÄ±nda Ã§abuk kÄ±rÄ±ldÄ±ÄŸÄ±m olur.", cat: "ozsaygi" },
    { text: "Kendi hatalarÄ±m iÃ§in kendimi fazla suÃ§ladÄ±ÄŸÄ±m olur.", cat: "ozsaygi" },
    { text: "Kendi potansiyelime gerektiÄŸi kadar gÃ¼venmediÄŸim olur.", cat: "ozsaygi" }
  ];

  var currentIndex = 0;
  var answers = []; // her soru iÃ§in 0-4

  var stepTextEl = document.getElementById("stepText");
  var progressEl = document.getElementById("progressText");
  var questionTextEl = document.getElementById("questionText");
  var optionsContainerEl = document.getElementById("optionsContainer");
  var nextButtonEl = document.getElementById("nextButton");

  function renderQuestion() {
    var q = questions[currentIndex];
    stepTextEl.textContent = "Soru " + (currentIndex + 1) + " / " + questions.length;
    progressEl.textContent = answers.filter(function(a) { return typeof a === "number"; }).length + " / " + questions.length + " soru";

    questionTextEl.textContent = (currentIndex + 1) + ". " + q.text;
    optionsContainerEl.innerHTML = "";

    for (var i = 0; i < likertOptions.length; i++) {
      var opt = likertOptions[i];

      var label = document.createElement("label");
      label.className = "option";

      var input = document.createElement("input");
      input.type = "radio";
      input.name = "answer";
      input.value = opt.value;

      if (answers[currentIndex] === opt.value) {
        input.checked = true;
      }

      var span = document.createElement("span");
      span.textContent = opt.text;

      label.appendChild(input);
      label.appendChild(span);
      optionsContainerEl.appendChild(label);
    }

    if (currentIndex === questions.length - 1) {
      nextButtonEl.textContent = "Yapay ZekÃ¢ Analizini GÃ¶r";
    } else {
      nextButtonEl.textContent = "Sonraki Soru";
    }
  }

  function nextStep() {
    var selected = document.querySelector('input[name="answer"]:checked');
    if (!selected) {
      alert("Devam etmeden Ã¶nce bir seÃ§enek iÅŸaretlemen gerekiyor ğŸ™‚");
      return;
    }

    answers[currentIndex] = parseInt(selected.value, 10);

    if (currentIndex < questions.length - 1) {
      currentIndex++;
      renderQuestion();
    } else {
      analyze();
    }
  }

  function levelLabel(percent) {
    if (percent < 25) return "DÃ¼ÅŸÃ¼k";
    if (percent < 50) return "DÃ¼ÅŸÃ¼k-Orta";
    if (percent < 75) return "Orta-YÃ¼ksek";
    return "YÃ¼ksek";
  }

  function analyze() {
    if (answers.length !== questions.length) {
      alert("TÃ¼m sorularÄ± tamamlamadan analiz yapamam.");
      return;
    }

    var scores = {};
    var maxScores = {};

    // baÅŸlangÄ±Ã§
    for (var key in categories) {
      scores[key] = 0;
      maxScores[key] = 0;
    }

    // skorlarÄ± doldur
    for (var i = 0; i < questions.length; i++) {
      var q = questions[i];
      var val = answers[i];
      scores[q.cat] += val;
      maxScores[q.cat] += 4; // her soru maksimum 4
    }

    var keys = Object.keys(categories);

    // yÃ¼zdeler
    var percents = {};
    for (var k = 0; k < keys.length; k++) {
      var catKey = keys[k];
      if (maxScores[catKey] === 0) {
        percents[catKey] = 0;
      } else {
        percents[catKey] = Math.round((scores[catKey] / maxScores[catKey]) * 100);
      }
    }

    // ana ve ikincil tema
    keys.sort(function(a, b) {
      return percents[b] - percents[a];
    });

    var primaryKey = keys[0];
    var secondaryKey = keys[1];

    // Genel Ã¶zet
    var summary = "";
    if (percents[primaryKey] < 35) {
      summary = "Genel profilin, kategoriler arasÄ±nda belirgin aÅŸÄ±rÄ±lÄ±klar gÃ¶stermeyen; daha dengeli ve orta dÃ¼zeyde dalgalanmalara sahip bir yapÄ±ya iÅŸaret ediyor. Zaman zaman zorlandÄ±ÄŸÄ±n alanlar olsa da, Ã§oÄŸu kategori orta bantta seyrediyor.";
    } else if (primaryKey === "anksiyete" || primaryKey === "duygu" || primaryKey === "stres") {
      summary = "SonuÃ§larda, Ã¶zellikle <strong>duygusal yÃ¼k ve stres ekseninde</strong> bir yoÄŸunluk gÃ¶ze Ã§arpÄ±yor. Zihin zaman zaman kaygÄ±ya, yorgunluÄŸa ya da duygusal dalgalanmalara kayma eÄŸiliminde olabilir. Bu, \"bozukluk\" anlamÄ±na gelmez; fakat duygusal bakÄ±m ve dinlenme ihtiyacÄ±nÄ±n arttÄ±ÄŸÄ± dÃ¶nemlere iÅŸaret edebilir.";
    } else if (primaryKey === "bilissel" || primaryKey === "ozsaygi") {
      summary = "Analiz, <strong>dÃ¼ÅŸÃ¼nce ÅŸekilleri ve kendilik algÄ±sÄ±</strong> tarafÄ±nda belirgin bir hassasiyet olabileceÄŸini gÃ¶steriyor. Zihnin eleÅŸtirel Ã§alÄ±ÅŸÄ±yor, baÅŸarÄ±-hata dengesinde hatalara daha fazla aÄŸÄ±rlÄ±k verebiliyorsun. Bu da Ã¶zsaygÄ± ve motivasyonu dÃ¶nem dÃ¶nem etkileyebilir.";
    } else if (primaryKey === "motivasyon") {
      summary = "SonuÃ§lar, <strong>enerji, motivasyon ve tÃ¼kenmiÅŸlik</strong> ekseninde yoÄŸunluk olduÄŸunu dÃ¼ÅŸÃ¼ndÃ¼rÃ¼yor. GÃ¼ndelik rutinde yorgunluk, erteleme veya boÅŸluk hissi zaman zaman Ã¶ne Ã§Ä±kabilir. Bu, uzun sÃ¼redir devam ediyorsa profesyonel destekle konuÅŸmaya deÄŸer bir alan olabilir.";
    } else {
      summary = "Profilin, <strong>iliÅŸkiler, hareketlilik ve kontrol</strong> ekseninde daha fazla renk barÄ±ndÄ±rÄ±yor. Duygusal yakÄ±nlÄ±k, Ã¶zgÃ¼rlÃ¼k isteÄŸi ve zaman zaman impulsif tepkiler hayatÄ±na dinamizm katarken, dengeyi korumak iÃ§in kÃ¼Ã§Ã¼k dÃ¼zenlemeler faydalÄ± olabilir.";
    }

    document.getElementById("summaryText").innerHTML = summary;

    // Pill'ler
    var pillContainer = document.getElementById("pillContainer");
    pillContainer.innerHTML = "";

    var pill1 = document.createElement("span");
    pill1.className = "pill";
    pill1.textContent = "En baskÄ±n tema: " + categories[primaryKey].name + " (" + percents[primaryKey] + "%)";
    pillContainer.appendChild(pill1);

    var pill2 = document.createElement("span");
    pill2.className = "pill";
    pill2.textContent = "Ä°kincil tema: " + categories[secondaryKey].name + " (" + percents[secondaryKey] + "%)";
    pillContainer.appendChild(pill2);

    // DetaylÄ± kategori yorumlarÄ±
    var indexListEl = document.getElementById("indexList");
    indexListEl.innerHTML = "";

    keys.forEach(function(key) {
      var p = percents[key];
      var label = levelLabel(p);
      var text = "";

      if (key === "anksiyete") {
        if (p < 25) text = "Anksiyete eÄŸilimi dÃ¼ÅŸÃ¼k gÃ¶rÃ¼nÃ¼yor; gÃ¼nlÃ¼k kaygÄ±lar yÃ¶netilebilir dÃ¼zeyde olabilir.";
        else if (p < 50) text = "Zaman zaman kaygÄ± yaÅŸasan da, genelde iÅŸlevini koruyabildiÄŸin bir Ã§izgi sÃ¶z konusu.";
        else if (p < 75) text = "Anksiyete eÄŸilimi belirgin; zihnin sÄ±k sÄ±k olumsuz senaryolara kayabilir. Bu, dinlenme ve nefes alanÄ± aÃ§mayÄ± Ã¶nemli kÄ±lar.";
        else text = "KaygÄ± belirtileri oldukÃ§a yoÄŸun gÃ¶rÃ¼nÃ¼yor; bu dÃ¼zeyde zorlanma gÃ¼nlÃ¼k yaÅŸam kaliteni etkileyebilir. Uzmanla konuÅŸmak rahatlatÄ±cÄ± olabilir.";
      } else if (key === "duygu") {
        if (p < 25) text = "Duygusal dalgalanmalarÄ±n gÃ¶rece dÃ¼ÅŸÃ¼k; hislerini regÃ¼le etme kapasiten gÃ¼Ã§lÃ¼ olabilir.";
        else if (p < 50) text = "Duygusal iniÅŸ Ã§Ä±kÄ±ÅŸlarÄ±n var ama Ã§oÄŸu zaman yÃ¶netilebiliyor gibi gÃ¶rÃ¼nÃ¼yor.";
        else if (p < 75) text = "Duygu dÃ¼zenleme tarafÄ±nda belirgin bir hassasiyet var; yoÄŸun duygular zaman zaman karar mekanizmanÄ± zorlayabilir.";
        else text = "Duygusal dalgalanmalar oldukÃ§a yÃ¼ksek; bu da hem iliÅŸkilerini hem kararlarÄ±nÄ± etkileyebilir. Profesyonel destek bu alanda Ã§ok faydalÄ± olabilir.";
      } else if (key === "stres") {
        if (p < 25) text = "Stres toleransÄ±n yÃ¼ksek; zorlayÄ±cÄ± koÅŸullarda bile gÃ¶rece dayanÄ±klÄ± kalabiliyorsun.";
        else if (p < 50) text = "Stres altÄ±nda zaman zaman zorlanÄ±yorsun ama Ã§oÄŸunlukla toparlayÄ±cÄ± bir yapÄ±n var.";
        else if (p < 75) text = "Stres yÃ¼kÃ¼n sÄ±klaÅŸmÄ±ÅŸ olabilir; dinlenme, sÄ±nÄ±r koyma ve tempo ayarÄ± Ã¶nemli hale geliyor.";
        else text = "Stres yÃ¼kÃ¼ Ã§ok yÃ¼ksek; tÃ¼kenmiÅŸlik riski artmÄ±ÅŸ olabilir. Tempo ve beklentileri yeniden gÃ¶zden geÃ§irmek Ã¶nemli olabilir.";
      } else if (key === "bilissel") {
        if (p < 25) text = "DÃ¼ÅŸÃ¼nce Ã§arpÄ±tmalarÄ± dÃ¼ÅŸÃ¼k; olaylarÄ± daha gerÃ§ekÃ§i deÄŸerlendirme eÄŸilimindesin.";
        else if (p < 50) text = "Bazen olumsuz taraflara takÄ±lsan da, genel olarak esnek ve dengeli dÃ¼ÅŸÃ¼nebiliyorsun.";
        else if (p < 75) text = "Olumsuz dÃ¼ÅŸÃ¼nce kalÄ±plarÄ± zaman zaman Ã¶ne Ã§Ä±kÄ±yor; bu da duygu durumunu aÅŸaÄŸÄ± Ã§ekebilir.";
        else text = "Zihin, eleÅŸtirel ve olumsuz kalÄ±plara sÄ±k sÄ±k kayÄ±yor gibi gÃ¶rÃ¼nÃ¼yor; biliÅŸsel farkÄ±ndalÄ±k Ã§alÄ±ÅŸmalarÄ± bu alanda Ã§ok destekleyici olabilir.";
      } else if (key === "iliski") {
        if (p < 25) text = "Ä°liÅŸkilerde baÄŸlanma kaygÄ±sÄ± dÃ¼ÅŸÃ¼k; yakÄ±nlÄ±k ve mesafe arasÄ±nda dengeli bir Ã§izgide olabilirsin.";
        else if (p < 50) text = "Zaman zaman endiÅŸe veya mesafe ihtiyacÄ± yaÅŸasan da iliÅŸki dinamiklerin yÃ¶netilebilir dÃ¼zeyde.";
        else if (p < 75) text = "BaÄŸlanma, reddedilme veya kontrol alanlarÄ±nda hassasiyet yÃ¼ksek; duygusal gÃ¼ven ihtiyacÄ± belirgin olabilir.";
        else text = "Ä°liÅŸki dinamikleri yoÄŸun kaygÄ±, kontrol ihtiyacÄ± veya terk edilme korkusuyla yÃ¼klenmiÅŸ olabilir; bu, insan iliÅŸkilerini Ã§ok yoruyorsa uzman desteÄŸi faydalÄ± olur.";
      } else if (key === "impuls") {
        if (p < 25) text = "DÃ¼rtÃ¼ kontrolÃ¼n gÃ¼Ã§lÃ¼; genelde dÃ¼ÅŸÃ¼nerek tepki verme eÄŸilimindesin.";
        else if (p < 50) text = "Ara sÄ±ra impulsif tepkiler verse de Ã§oÄŸu durumda kendini frenleyebiliyorsun.";
        else if (p < 75) text = "Duygusal yÃ¼kselmelerde ani tepki verme ve piÅŸmanlÄ±k yaÅŸama eÄŸilimin artmÄ±ÅŸ olabilir.";
        else text = "DÃ¼rtÃ¼ kontrolÃ¼ belirgin biÃ§imde zorlayÄ±cÄ±; Ã¶fke veya ani kararlar iliÅŸkilerini ve gÃ¼nlÃ¼k hayatÄ±nÄ± etkiliyor olabilir.";
      } else if (key === "motivasyon") {
        if (p < 25) text = "Enerji ve motivasyon seviyen gÃ¶rece iyi; erteleme ve tÃ¼kenmiÅŸlik daha nadir gÃ¶rÃ¼nÃ¼yor.";
        else if (p < 50) text = "Zaman zaman yorgunluk ve erteleme yaÅŸasan da, toparlama kapasiten mevcut.";
        else if (p < 75) text = "Motivasyon ve enerji alanÄ±nda zorlanma belirgin; hayat temposu seni yÄ±pratÄ±yor olabilir.";
        else text = "TÃ¼kenmiÅŸlik belirtileri dikkat Ã§ekiyor; uzun sÃ¼reli yorgunluk, isteksizlik ve amaÃ§sÄ±zlÄ±k hissi profesyonel destek gerektirebilir.";
      } else if (key === "ozsaygi") {
        if (p < 25) text = "Ã–zsaygÄ± dÃ¼zeyin gÃ¶rece saÄŸlÄ±klÄ±; kendini deÄŸerli gÃ¶rme kapasiten korunmuÅŸ gibi duruyor.";
        else if (p < 50) text = "Bazen kendini eleÅŸtirsen de, tamamen deÄŸersiz hissetme alanÄ±na kaymÄ±yorsun.";
        else if (p < 75) text = "Kendini eleÅŸtirme ve yetersizlik hisleri daha sÄ±k gÃ¶rÃ¼lebilir; bu da gÃ¼ven duygunu zayÄ±flatabilir.";
        else text = "Ã–zsaygÄ± ve kendilik algÄ±sÄ± tarafÄ±nda gÃ¼Ã§lÃ¼ bir hassasiyet var; yoÄŸun deÄŸersizlik, suÃ§luluk veya yetersizlik hissi profesyonel Ã§alÄ±ÅŸmayla iyileÅŸtirilebilir.";
      }

      var li = document.createElement("li");
      li.innerHTML = "<strong>" + categories[key].name + ":</strong> " +
        label + " eÄŸilim (" + percents[key] + "%). " + text;
      indexListEl.appendChild(li);
    });

    // Bar grafikleri
    var barsContainer = document.getElementById("barsContainer");
    barsContainer.innerHTML = "";

    keys.forEach(function(key) {
      var percent = percents[key];

      var row = document.createElement("div");
      row.className = "bar-row";

      var label = document.createElement("div");
      label.className = "bar-label";
      label.textContent = categories[key].name;

      var track = document.createElement("div");
      track.className = "bar-track";

      var fill = document.createElement("div");
      fill.className = "bar-fill";
      fill.style.background = "linear-gradient(90deg, " + categories[key].color + ", #fb7185)";
      track.appendChild(fill);

      var value = document.createElement("div");
      value.className = "bar-value";
      value.textContent = percent + "%";

      row.appendChild(label);
      row.appendChild(track);
      row.appendChild(value);
      barsContainer.appendChild(row);

      (function(f, p) {
        setTimeout(function() { f.style.width = p + "%"; }, 40);
      })(fill, percent);
    });

    // Ã–neri kutusu
    var tipText = "";
    if (percents[primaryKey] < 35 && percents[secondaryKey] < 35) {
      tipText = "Profilin oldukÃ§a dengeli gÃ¶rÃ¼nÃ¼yor. Yine de zaman zaman kÄ±sa nefes egzersizleri, dÃ¼zenli uyku ve sosyal destek, bu dengeyi korumana yardÄ±mcÄ± olabilir. Denge iyi olsa bile, \"iyi gidiyor\" dÃ¶nemlerde kendine yatÄ±rÄ±m devam ettikÃ§e dayanÄ±klÄ±lÄ±k artar.";
    } else if (primaryKey === "anksiyete" || primaryKey === "duygu") {
      tipText = "KaygÄ± ve duygu yoÄŸunluÄŸu yÃ¼ksek Ã§Ä±ktÄ±ÄŸÄ± iÃ§in, nefes farkÄ±ndalÄ±ÄŸÄ±, bedensel gevÅŸeme egzersizleri ve dÃ¼ÅŸÃ¼nceleri yazÄ±ya dÃ¶kme (journaling) Ã¶zellikle rahatlatÄ±cÄ± olabilir. EÄŸer bu yoÄŸunluk uzun sÃ¼redir devam ediyor ve iÅŸlevini etkiliyorsa, bir psikolog veya psikiyatristle gÃ¶rÃ¼ÅŸmek faydalÄ± olur.";
    } else if (primaryKey === "motivasyon" || primaryKey === "stres") {
      tipText = "Stres ve tÃ¼kenmiÅŸlik tarafÄ± Ã¶ne Ã§Ä±ktÄ±ÄŸÄ± iÃ§in, tempo ayarÄ± yapmak, kÃ¼Ã§Ã¼k ama sÃ¼rdÃ¼rÃ¼lebilir rutinler kurmak (10 dakikalÄ±k yÃ¼rÃ¼yÃ¼ÅŸ, 5 dakikalÄ±k mola bloklarÄ± gibi) iÅŸe yarayabilir. Uzun sÃ¼redir geÃ§meyen tÃ¼kenmiÅŸlik hissi varsa profesyonel destek planlamak Ã¶nemli olabilir.";
    } else if (primaryKey === "ozsaygi" || primaryKey === "bilissel") {
      tipText = "DÃ¼ÅŸÃ¼nce kalÄ±plarÄ± ve Ã¶zsaygÄ± tarafÄ±nda yÃ¼ksek hassasiyet olduÄŸu iÃ§in, kendine karÅŸÄ± daha yumuÅŸak bir iÃ§ ses geliÅŸtirmek, baÅŸarÄ±larÄ±nÄ± not etmek ve \"mÃ¼kemmel olmak zorunda deÄŸilim\" bakÄ±ÅŸ aÃ§Ä±sÄ±nÄ± hatÄ±rlatmak koruyucu olabilir. BiliÅŸsel terapi odaklÄ± Ã§alÄ±ÅŸmalar bu alanda Ã§ok etkilidir.";
    } else {
      tipText = "Ä°liÅŸki dinamikleri, Ã¶zgÃ¼rlÃ¼k isteÄŸi ve impulsif taraf Ã¶ne Ã§Ä±kÄ±yorsa, hem kendine alan tanÄ±mak hem de duygusal sÄ±nÄ±rÄ± korumak arasÄ±ndaki dengeyi Ã§alÄ±ÅŸmak faydalÄ± olur. YakÄ±n iliÅŸkilerde aÃ§Ä±k iletiÅŸim ve beklentileri netleÅŸtirmek, Ã§atÄ±ÅŸmalarÄ± azaltabilir.";
    }

    document.getElementById("tipBox").innerHTML = tipText;

    openModal();
  }

  function openModal() {
    document.getElementById("modalBackdrop").style.display = "flex";
  }

  function closeModal() {
    document.getElementById("modalBackdrop").style.display = "none";
  }

  // ilk soru
  renderQuestion();
</script>

</body>
</html>
